ARM GAS  /tmp/cc1zGJUA.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"drv8323.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.drv_spi_write,"ax",%progbits
  18              		.align	1
  19              		.global	drv_spi_write
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	drv_spi_write:
  27              	.LVL0:
  28              	.LFB238:
  29              		.file 1 "Core/Src/drv8323.c"
   1:Core/Src/drv8323.c **** /*
   2:Core/Src/drv8323.c ****  * drv8323.c
   3:Core/Src/drv8323.c ****  *
   4:Core/Src/drv8323.c ****  *  Created on: Aug 1, 2020
   5:Core/Src/drv8323.c ****  *      Author: ben
   6:Core/Src/drv8323.c ****  */
   7:Core/Src/drv8323.c **** 
   8:Core/Src/drv8323.c **** 
   9:Core/Src/drv8323.c **** #include "drv8323.h"
  10:Core/Src/drv8323.c **** #include <stdio.h>
  11:Core/Src/drv8323.c **** #include "usart.h"
  12:Core/Src/drv8323.c **** #include "hw_config.h"
  13:Core/Src/drv8323.c **** 
  14:Core/Src/drv8323.c **** uint16_t drv_spi_write(DRVStruct * drv, uint16_t val){
  30              		.loc 1 14 54 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 14 54 is_stmt 0 view .LVU1
  35 0000 30B5     		push	{r4, r5, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 12
  38              		.cfi_offset 4, -12
  39              		.cfi_offset 5, -8
  40              		.cfi_offset 14, -4
  41 0002 83B0     		sub	sp, sp, #12
  42              	.LCFI1:
  43              		.cfi_def_cfa_offset 24
  44 0004 0446     		mov	r4, r0
ARM GAS  /tmp/cc1zGJUA.s 			page 2


  15:Core/Src/drv8323.c **** 	drv->spi_tx_word = val;
  45              		.loc 1 15 2 is_stmt 1 view .LVU2
  46              		.loc 1 15 19 is_stmt 0 view .LVU3
  47 0006 0546     		mov	r5, r0
  48 0008 25F8021B 		strh	r1, [r5], #2	@ movhi
  16:Core/Src/drv8323.c **** 	HAL_GPIO_WritePin(DRV_CS, GPIO_PIN_RESET ); 	// CS low
  49              		.loc 1 16 2 is_stmt 1 view .LVU4
  50 000c 0022     		movs	r2, #0
  51 000e 1021     		movs	r1, #16
  52              	.LVL1:
  53              		.loc 1 16 2 is_stmt 0 view .LVU5
  54 0010 0C48     		ldr	r0, .L4
  55              	.LVL2:
  56              		.loc 1 16 2 view .LVU6
  57 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
  58              	.LVL3:
  17:Core/Src/drv8323.c **** 	HAL_SPI_TransmitReceive(&DRV_SPI, (uint8_t*)drv->spi_tx_buff, (uint8_t *)drv->spi_rx_buff, 1, 100)
  59              		.loc 1 17 2 is_stmt 1 view .LVU7
  60 0016 6423     		movs	r3, #100
  61 0018 0093     		str	r3, [sp]
  62 001a 0123     		movs	r3, #1
  63 001c 2A46     		mov	r2, r5
  64 001e 2146     		mov	r1, r4
  65 0020 0948     		ldr	r0, .L4+4
  66 0022 FFF7FEFF 		bl	HAL_SPI_TransmitReceive
  67              	.LVL4:
  18:Core/Src/drv8323.c **** 	while( DRV_SPI.State == HAL_SPI_STATE_BUSY );  					// wait for transmission complete
  68              		.loc 1 18 2 view .LVU8
  69              	.L2:
  70              		.loc 1 18 46 discriminator 1 view .LVU9
  71              		.loc 1 18 7 discriminator 1 view .LVU10
  72              		.loc 1 18 16 is_stmt 0 discriminator 1 view .LVU11
  73 0026 084B     		ldr	r3, .L4+4
  74 0028 93F85130 		ldrb	r3, [r3, #81]	@ zero_extendqisi2
  75 002c DBB2     		uxtb	r3, r3
  76              		.loc 1 18 7 discriminator 1 view .LVU12
  77 002e 022B     		cmp	r3, #2
  78 0030 F9D0     		beq	.L2
  19:Core/Src/drv8323.c **** 	HAL_GPIO_WritePin(DRV_CS, GPIO_PIN_SET ); 	// CS high
  79              		.loc 1 19 2 is_stmt 1 view .LVU13
  80 0032 0122     		movs	r2, #1
  81 0034 1021     		movs	r1, #16
  82 0036 0348     		ldr	r0, .L4
  83 0038 FFF7FEFF 		bl	HAL_GPIO_WritePin
  84              	.LVL5:
  20:Core/Src/drv8323.c **** 	return drv->spi_rx_word;
  85              		.loc 1 20 2 view .LVU14
  21:Core/Src/drv8323.c **** }
  86              		.loc 1 21 1 is_stmt 0 view .LVU15
  87 003c 6088     		ldrh	r0, [r4, #2]
  88 003e 03B0     		add	sp, sp, #12
  89              	.LCFI2:
  90              		.cfi_def_cfa_offset 12
  91              		@ sp needed
  92 0040 30BD     		pop	{r4, r5, pc}
  93              	.LVL6:
  94              	.L5:
ARM GAS  /tmp/cc1zGJUA.s 			page 3


  95              		.loc 1 21 1 view .LVU16
  96 0042 00BF     		.align	2
  97              	.L4:
  98 0044 00000240 		.word	1073872896
  99 0048 00000000 		.word	hspi1
 100              		.cfi_endproc
 101              	.LFE238:
 103              		.section	.text.drv_read_FSR1,"ax",%progbits
 104              		.align	1
 105              		.global	drv_read_FSR1
 106              		.syntax unified
 107              		.thumb
 108              		.thumb_func
 109              		.fpu fpv4-sp-d16
 111              	drv_read_FSR1:
 112              	.LFB239:
  22:Core/Src/drv8323.c **** uint16_t drv_read_FSR1(DRVStruct drv){
 113              		.loc 1 22 38 is_stmt 1 view -0
 114              		.cfi_startproc
 115              		@ args = 0, pretend = 0, frame = 8
 116              		@ frame_needed = 0, uses_anonymous_args = 0
 117 0000 00B5     		push	{lr}
 118              	.LCFI3:
 119              		.cfi_def_cfa_offset 4
 120              		.cfi_offset 14, -4
 121 0002 83B0     		sub	sp, sp, #12
 122              	.LCFI4:
 123              		.cfi_def_cfa_offset 16
 124 0004 6B46     		mov	r3, sp
 125 0006 83E80300 		stm	r3, {r0, r1}
  23:Core/Src/drv8323.c **** 	return drv_spi_write(&drv, (1<<15)|FSR1);
 126              		.loc 1 23 2 view .LVU18
 127              		.loc 1 23 9 is_stmt 0 view .LVU19
 128 000a 4FF40041 		mov	r1, #32768
 129 000e 1846     		mov	r0, r3
 130 0010 FFF7FEFF 		bl	drv_spi_write
 131              	.LVL7:
  24:Core/Src/drv8323.c **** }
 132              		.loc 1 24 1 view .LVU20
 133 0014 03B0     		add	sp, sp, #12
 134              	.LCFI5:
 135              		.cfi_def_cfa_offset 4
 136              		@ sp needed
 137 0016 5DF804FB 		ldr	pc, [sp], #4
 138              		.cfi_endproc
 139              	.LFE239:
 141              		.section	.text.drv_read_FSR2,"ax",%progbits
 142              		.align	1
 143              		.global	drv_read_FSR2
 144              		.syntax unified
 145              		.thumb
 146              		.thumb_func
 147              		.fpu fpv4-sp-d16
 149              	drv_read_FSR2:
 150              	.LFB240:
  25:Core/Src/drv8323.c **** 
  26:Core/Src/drv8323.c **** uint16_t drv_read_FSR2(DRVStruct drv){
ARM GAS  /tmp/cc1zGJUA.s 			page 4


 151              		.loc 1 26 38 is_stmt 1 view -0
 152              		.cfi_startproc
 153              		@ args = 0, pretend = 0, frame = 8
 154              		@ frame_needed = 0, uses_anonymous_args = 0
 155 0000 00B5     		push	{lr}
 156              	.LCFI6:
 157              		.cfi_def_cfa_offset 4
 158              		.cfi_offset 14, -4
 159 0002 83B0     		sub	sp, sp, #12
 160              	.LCFI7:
 161              		.cfi_def_cfa_offset 16
 162 0004 6B46     		mov	r3, sp
 163 0006 83E80300 		stm	r3, {r0, r1}
  27:Core/Src/drv8323.c **** 	return drv_spi_write(&drv, (1<<15)|FSR2);
 164              		.loc 1 27 2 view .LVU22
 165              		.loc 1 27 9 is_stmt 0 view .LVU23
 166 000a 48F20101 		movw	r1, #32769
 167 000e 1846     		mov	r0, r3
 168 0010 FFF7FEFF 		bl	drv_spi_write
 169              	.LVL8:
  28:Core/Src/drv8323.c **** }
 170              		.loc 1 28 1 view .LVU24
 171 0014 03B0     		add	sp, sp, #12
 172              	.LCFI8:
 173              		.cfi_def_cfa_offset 4
 174              		@ sp needed
 175 0016 5DF804FB 		ldr	pc, [sp], #4
 176              		.cfi_endproc
 177              	.LFE240:
 179              		.section	.text.drv_read_register,"ax",%progbits
 180              		.align	1
 181              		.global	drv_read_register
 182              		.syntax unified
 183              		.thumb
 184              		.thumb_func
 185              		.fpu fpv4-sp-d16
 187              	drv_read_register:
 188              	.LVL9:
 189              	.LFB241:
  29:Core/Src/drv8323.c **** 
  30:Core/Src/drv8323.c **** uint16_t drv_read_register(DRVStruct drv, int reg){
 190              		.loc 1 30 51 is_stmt 1 view -0
 191              		.cfi_startproc
 192              		@ args = 0, pretend = 0, frame = 8
 193              		@ frame_needed = 0, uses_anonymous_args = 0
 194              		.loc 1 30 51 is_stmt 0 view .LVU26
 195 0000 00B5     		push	{lr}
 196              	.LCFI9:
 197              		.cfi_def_cfa_offset 4
 198              		.cfi_offset 14, -4
 199 0002 83B0     		sub	sp, sp, #12
 200              	.LCFI10:
 201              		.cfi_def_cfa_offset 16
 202 0004 6B46     		mov	r3, sp
 203 0006 83E80300 		stm	r3, {r0, r1}
  31:Core/Src/drv8323.c **** 	return drv_spi_write(&drv, (1<<15)|(reg<<11));
 204              		.loc 1 31 2 is_stmt 1 view .LVU27
ARM GAS  /tmp/cc1zGJUA.s 			page 5


 205              		.loc 1 31 36 is_stmt 0 view .LVU28
 206 000a 6FEA0271 		mvn	r1, r2, lsl #28
 207 000e 6FEA5141 		mvn	r1, r1, lsr #17
 208              		.loc 1 31 9 view .LVU29
 209 0012 89B2     		uxth	r1, r1
 210 0014 1846     		mov	r0, r3
 211 0016 FFF7FEFF 		bl	drv_spi_write
 212              	.LVL10:
  32:Core/Src/drv8323.c **** }
 213              		.loc 1 32 1 view .LVU30
 214 001a 03B0     		add	sp, sp, #12
 215              	.LCFI11:
 216              		.cfi_def_cfa_offset 4
 217              		@ sp needed
 218 001c 5DF804FB 		ldr	pc, [sp], #4
 219              		.cfi_endproc
 220              	.LFE241:
 222              		.section	.text.drv_write_register,"ax",%progbits
 223              		.align	1
 224              		.global	drv_write_register
 225              		.syntax unified
 226              		.thumb
 227              		.thumb_func
 228              		.fpu fpv4-sp-d16
 230              	drv_write_register:
 231              	.LVL11:
 232              	.LFB242:
  33:Core/Src/drv8323.c **** void drv_write_register(DRVStruct drv, int reg, int val){
 233              		.loc 1 33 57 is_stmt 1 view -0
 234              		.cfi_startproc
 235              		@ args = 0, pretend = 0, frame = 8
 236              		@ frame_needed = 0, uses_anonymous_args = 0
 237              		.loc 1 33 57 is_stmt 0 view .LVU32
 238 0000 10B5     		push	{r4, lr}
 239              	.LCFI12:
 240              		.cfi_def_cfa_offset 8
 241              		.cfi_offset 4, -8
 242              		.cfi_offset 14, -4
 243 0002 82B0     		sub	sp, sp, #8
 244              	.LCFI13:
 245              		.cfi_def_cfa_offset 16
 246 0004 6C46     		mov	r4, sp
 247 0006 84E80300 		stm	r4, {r0, r1}
  34:Core/Src/drv8323.c **** 	drv_spi_write(&drv, (reg<<11)|val);
 248              		.loc 1 34 2 is_stmt 1 view .LVU33
 249              		.loc 1 34 31 is_stmt 0 view .LVU34
 250 000a 43EAC223 		orr	r3, r3, r2, lsl #11
 251              	.LVL12:
 252              		.loc 1 34 2 view .LVU35
 253 000e 99B2     		uxth	r1, r3
 254 0010 2046     		mov	r0, r4
 255 0012 FFF7FEFF 		bl	drv_spi_write
 256              	.LVL13:
  35:Core/Src/drv8323.c **** }
 257              		.loc 1 35 1 view .LVU36
 258 0016 02B0     		add	sp, sp, #8
 259              	.LCFI14:
ARM GAS  /tmp/cc1zGJUA.s 			page 6


 260              		.cfi_def_cfa_offset 8
 261              		@ sp needed
 262 0018 10BD     		pop	{r4, pc}
 263              		.cfi_endproc
 264              	.LFE242:
 266              		.section	.text.drv_write_DCR,"ax",%progbits
 267              		.align	1
 268              		.global	drv_write_DCR
 269              		.syntax unified
 270              		.thumb
 271              		.thumb_func
 272              		.fpu fpv4-sp-d16
 274              	drv_write_DCR:
 275              	.LVL14:
 276              	.LFB243:
  36:Core/Src/drv8323.c **** void drv_write_DCR(DRVStruct drv, int DIS_CPUV, int DIS_GDF, int OTW_REP, int PWM_MODE, int PWM_COM
 277              		.loc 1 36 149 is_stmt 1 view -0
 278              		.cfi_startproc
 279              		@ args = 28, pretend = 0, frame = 8
 280              		@ frame_needed = 0, uses_anonymous_args = 0
 281              		.loc 1 36 149 is_stmt 0 view .LVU38
 282 0000 10B5     		push	{r4, lr}
 283              	.LCFI15:
 284              		.cfi_def_cfa_offset 8
 285              		.cfi_offset 4, -8
 286              		.cfi_offset 14, -4
 287 0002 82B0     		sub	sp, sp, #8
 288              	.LCFI16:
 289              		.cfi_def_cfa_offset 16
 290 0004 6C46     		mov	r4, sp
 291 0006 84E80300 		stm	r4, {r0, r1}
  37:Core/Src/drv8323.c **** 	uint16_t val = (DCR<<11) | (DIS_CPUV<<9) | (DIS_GDF<<8) | (OTW_REP<<7) | (PWM_MODE<<5) | (PWM_COM<
 292              		.loc 1 37 2 is_stmt 1 view .LVU39
 293              		.loc 1 37 38 is_stmt 0 view .LVU40
 294 000a 5202     		lsls	r2, r2, #9
 295              	.LVL15:
 296              		.loc 1 37 27 view .LVU41
 297 000c 42F48052 		orr	r2, r2, #4096
 298 0010 12B2     		sxth	r2, r2
 299              		.loc 1 37 43 view .LVU42
 300 0012 42EA0321 		orr	r1, r2, r3, lsl #8
 301 0016 09B2     		sxth	r1, r1
 302              		.loc 1 37 58 view .LVU43
 303 0018 049A     		ldr	r2, [sp, #16]
 304 001a 41EAC211 		orr	r1, r1, r2, lsl #7
 305 001e 09B2     		sxth	r1, r1
 306              		.loc 1 37 73 view .LVU44
 307 0020 059B     		ldr	r3, [sp, #20]
 308              	.LVL16:
 309              		.loc 1 37 73 view .LVU45
 310 0022 41EA4311 		orr	r1, r1, r3, lsl #5
 311 0026 09B2     		sxth	r1, r1
 312              		.loc 1 37 89 view .LVU46
 313 0028 069B     		ldr	r3, [sp, #24]
 314 002a 41EA0311 		orr	r1, r1, r3, lsl #4
 315 002e 09B2     		sxth	r1, r1
 316              		.loc 1 37 104 view .LVU47
ARM GAS  /tmp/cc1zGJUA.s 			page 7


 317 0030 079B     		ldr	r3, [sp, #28]
 318 0032 41EAC301 		orr	r1, r1, r3, lsl #3
 319 0036 09B2     		sxth	r1, r1
 320              		.loc 1 37 119 view .LVU48
 321 0038 089B     		ldr	r3, [sp, #32]
 322 003a 41EA8301 		orr	r1, r1, r3, lsl #2
 323 003e 09B2     		sxth	r1, r1
 324              		.loc 1 37 132 view .LVU49
 325 0040 099B     		ldr	r3, [sp, #36]
 326 0042 41EA4301 		orr	r1, r1, r3, lsl #1
 327 0046 09B2     		sxth	r1, r1
 328              		.loc 1 37 145 view .LVU50
 329 0048 0A9B     		ldr	r3, [sp, #40]
 330 004a 1943     		orrs	r1, r1, r3
 331              	.LVL17:
  38:Core/Src/drv8323.c **** 	drv_spi_write(&drv, val);
 332              		.loc 1 38 2 is_stmt 1 view .LVU51
 333 004c 89B2     		uxth	r1, r1
 334              		.loc 1 38 2 is_stmt 0 view .LVU52
 335 004e 2046     		mov	r0, r4
 336 0050 FFF7FEFF 		bl	drv_spi_write
 337              	.LVL18:
  39:Core/Src/drv8323.c **** }
 338              		.loc 1 39 1 view .LVU53
 339 0054 02B0     		add	sp, sp, #8
 340              	.LCFI17:
 341              		.cfi_def_cfa_offset 8
 342              		@ sp needed
 343 0056 10BD     		pop	{r4, pc}
 344              		.loc 1 39 1 view .LVU54
 345              		.cfi_endproc
 346              	.LFE243:
 348              		.section	.text.drv_write_HSR,"ax",%progbits
 349              		.align	1
 350              		.global	drv_write_HSR
 351              		.syntax unified
 352              		.thumb
 353              		.thumb_func
 354              		.fpu fpv4-sp-d16
 356              	drv_write_HSR:
 357              	.LVL19:
 358              	.LFB244:
  40:Core/Src/drv8323.c **** void drv_write_HSR(DRVStruct drv, int LOCK, int IDRIVEP_HS, int IDRIVEN_HS){
 359              		.loc 1 40 76 is_stmt 1 view -0
 360              		.cfi_startproc
 361              		@ args = 4, pretend = 0, frame = 8
 362              		@ frame_needed = 0, uses_anonymous_args = 0
 363              		.loc 1 40 76 is_stmt 0 view .LVU56
 364 0000 10B5     		push	{r4, lr}
 365              	.LCFI18:
 366              		.cfi_def_cfa_offset 8
 367              		.cfi_offset 4, -8
 368              		.cfi_offset 14, -4
 369 0002 82B0     		sub	sp, sp, #8
 370              	.LCFI19:
 371              		.cfi_def_cfa_offset 16
 372 0004 6C46     		mov	r4, sp
ARM GAS  /tmp/cc1zGJUA.s 			page 8


 373 0006 84E80300 		stm	r4, {r0, r1}
  41:Core/Src/drv8323.c **** 	uint16_t val = (HSR<<11) | (LOCK<<8) | (IDRIVEP_HS<<4) | IDRIVEN_HS;
 374              		.loc 1 41 2 is_stmt 1 view .LVU57
 375              		.loc 1 41 34 is_stmt 0 view .LVU58
 376 000a 1202     		lsls	r2, r2, #8
 377              	.LVL20:
 378              		.loc 1 41 27 view .LVU59
 379 000c 42F4C052 		orr	r2, r2, #6144
 380 0010 12B2     		sxth	r2, r2
 381              		.loc 1 41 39 view .LVU60
 382 0012 42EA0311 		orr	r1, r2, r3, lsl #4
 383 0016 09B2     		sxth	r1, r1
 384              		.loc 1 41 57 view .LVU61
 385 0018 049A     		ldr	r2, [sp, #16]
 386 001a 1143     		orrs	r1, r1, r2
 387              	.LVL21:
  42:Core/Src/drv8323.c **** 	drv_spi_write(&drv, val);
 388              		.loc 1 42 2 is_stmt 1 view .LVU62
 389 001c 89B2     		uxth	r1, r1
 390              		.loc 1 42 2 is_stmt 0 view .LVU63
 391 001e 2046     		mov	r0, r4
 392 0020 FFF7FEFF 		bl	drv_spi_write
 393              	.LVL22:
  43:Core/Src/drv8323.c **** }
 394              		.loc 1 43 1 view .LVU64
 395 0024 02B0     		add	sp, sp, #8
 396              	.LCFI20:
 397              		.cfi_def_cfa_offset 8
 398              		@ sp needed
 399 0026 10BD     		pop	{r4, pc}
 400              		.loc 1 43 1 view .LVU65
 401              		.cfi_endproc
 402              	.LFE244:
 404              		.section	.text.drv_write_LSR,"ax",%progbits
 405              		.align	1
 406              		.global	drv_write_LSR
 407              		.syntax unified
 408              		.thumb
 409              		.thumb_func
 410              		.fpu fpv4-sp-d16
 412              	drv_write_LSR:
 413              	.LVL23:
 414              	.LFB245:
  44:Core/Src/drv8323.c **** void drv_write_LSR(DRVStruct drv, int CBC, int TDRIVE, int IDRIVEP_LS, int IDRIVEN_LS){
 415              		.loc 1 44 87 is_stmt 1 view -0
 416              		.cfi_startproc
 417              		@ args = 8, pretend = 0, frame = 8
 418              		@ frame_needed = 0, uses_anonymous_args = 0
 419              		.loc 1 44 87 is_stmt 0 view .LVU67
 420 0000 10B5     		push	{r4, lr}
 421              	.LCFI21:
 422              		.cfi_def_cfa_offset 8
 423              		.cfi_offset 4, -8
 424              		.cfi_offset 14, -4
 425 0002 82B0     		sub	sp, sp, #8
 426              	.LCFI22:
 427              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/cc1zGJUA.s 			page 9


 428 0004 6C46     		mov	r4, sp
 429 0006 84E80300 		stm	r4, {r0, r1}
  45:Core/Src/drv8323.c **** 	uint16_t val = (LSR<<11) | (CBC<<10) | (TDRIVE<<8) | (IDRIVEP_LS<<4) | IDRIVEN_LS;
 430              		.loc 1 45 2 is_stmt 1 view .LVU68
 431              		.loc 1 45 33 is_stmt 0 view .LVU69
 432 000a 9202     		lsls	r2, r2, #10
 433              	.LVL24:
 434              		.loc 1 45 27 view .LVU70
 435 000c 42F40052 		orr	r2, r2, #8192
 436 0010 12B2     		sxth	r2, r2
 437              		.loc 1 45 39 view .LVU71
 438 0012 42EA0321 		orr	r1, r2, r3, lsl #8
 439 0016 09B2     		sxth	r1, r1
 440              		.loc 1 45 53 view .LVU72
 441 0018 049A     		ldr	r2, [sp, #16]
 442 001a 41EA0211 		orr	r1, r1, r2, lsl #4
 443 001e 09B2     		sxth	r1, r1
 444              		.loc 1 45 71 view .LVU73
 445 0020 059B     		ldr	r3, [sp, #20]
 446              	.LVL25:
 447              		.loc 1 45 71 view .LVU74
 448 0022 1943     		orrs	r1, r1, r3
 449              	.LVL26:
  46:Core/Src/drv8323.c **** 	drv_spi_write(&drv, val);
 450              		.loc 1 46 2 is_stmt 1 view .LVU75
 451 0024 89B2     		uxth	r1, r1
 452              		.loc 1 46 2 is_stmt 0 view .LVU76
 453 0026 2046     		mov	r0, r4
 454 0028 FFF7FEFF 		bl	drv_spi_write
 455              	.LVL27:
  47:Core/Src/drv8323.c **** }
 456              		.loc 1 47 1 view .LVU77
 457 002c 02B0     		add	sp, sp, #8
 458              	.LCFI23:
 459              		.cfi_def_cfa_offset 8
 460              		@ sp needed
 461 002e 10BD     		pop	{r4, pc}
 462              		.loc 1 47 1 view .LVU78
 463              		.cfi_endproc
 464              	.LFE245:
 466              		.section	.text.drv_write_OCPCR,"ax",%progbits
 467              		.align	1
 468              		.global	drv_write_OCPCR
 469              		.syntax unified
 470              		.thumb
 471              		.thumb_func
 472              		.fpu fpv4-sp-d16
 474              	drv_write_OCPCR:
 475              	.LVL28:
 476              	.LFB246:
  48:Core/Src/drv8323.c **** void drv_write_OCPCR(DRVStruct drv, int TRETRY, int DEAD_TIME, int OCP_MODE, int OCP_DEG, int VDS_L
 477              		.loc 1 48 103 is_stmt 1 view -0
 478              		.cfi_startproc
 479              		@ args = 12, pretend = 0, frame = 8
 480              		@ frame_needed = 0, uses_anonymous_args = 0
 481              		.loc 1 48 103 is_stmt 0 view .LVU80
 482 0000 10B5     		push	{r4, lr}
ARM GAS  /tmp/cc1zGJUA.s 			page 10


 483              	.LCFI24:
 484              		.cfi_def_cfa_offset 8
 485              		.cfi_offset 4, -8
 486              		.cfi_offset 14, -4
 487 0002 82B0     		sub	sp, sp, #8
 488              	.LCFI25:
 489              		.cfi_def_cfa_offset 16
 490 0004 6C46     		mov	r4, sp
 491 0006 84E80300 		stm	r4, {r0, r1}
  49:Core/Src/drv8323.c **** 	uint16_t val = (OCPCR<<11) | (TRETRY<<10) | (DEAD_TIME<<8) | (OCP_MODE<<6) | (OCP_DEG<<4) | VDS_LV
 492              		.loc 1 49 2 is_stmt 1 view .LVU81
 493              		.loc 1 49 38 is_stmt 0 view .LVU82
 494 000a 9202     		lsls	r2, r2, #10
 495              	.LVL29:
 496              		.loc 1 49 29 view .LVU83
 497 000c 42F42052 		orr	r2, r2, #10240
 498 0010 12B2     		sxth	r2, r2
 499              		.loc 1 49 44 view .LVU84
 500 0012 42EA0321 		orr	r1, r2, r3, lsl #8
 501 0016 09B2     		sxth	r1, r1
 502              		.loc 1 49 61 view .LVU85
 503 0018 049A     		ldr	r2, [sp, #16]
 504 001a 41EA8211 		orr	r1, r1, r2, lsl #6
 505 001e 09B2     		sxth	r1, r1
 506              		.loc 1 49 77 view .LVU86
 507 0020 059B     		ldr	r3, [sp, #20]
 508              	.LVL30:
 509              		.loc 1 49 77 view .LVU87
 510 0022 41EA0311 		orr	r1, r1, r3, lsl #4
 511 0026 09B2     		sxth	r1, r1
 512              		.loc 1 49 92 view .LVU88
 513 0028 069B     		ldr	r3, [sp, #24]
 514 002a 1943     		orrs	r1, r1, r3
 515              	.LVL31:
  50:Core/Src/drv8323.c **** 	drv_spi_write(&drv, val);
 516              		.loc 1 50 2 is_stmt 1 view .LVU89
 517 002c 89B2     		uxth	r1, r1
 518              		.loc 1 50 2 is_stmt 0 view .LVU90
 519 002e 2046     		mov	r0, r4
 520 0030 FFF7FEFF 		bl	drv_spi_write
 521              	.LVL32:
  51:Core/Src/drv8323.c **** }
 522              		.loc 1 51 1 view .LVU91
 523 0034 02B0     		add	sp, sp, #8
 524              	.LCFI26:
 525              		.cfi_def_cfa_offset 8
 526              		@ sp needed
 527 0036 10BD     		pop	{r4, pc}
 528              		.loc 1 51 1 view .LVU92
 529              		.cfi_endproc
 530              	.LFE246:
 532              		.section	.text.drv_write_CSACR,"ax",%progbits
 533              		.align	1
 534              		.global	drv_write_CSACR
 535              		.syntax unified
 536              		.thumb
 537              		.thumb_func
ARM GAS  /tmp/cc1zGJUA.s 			page 11


 538              		.fpu fpv4-sp-d16
 540              	drv_write_CSACR:
 541              	.LVL33:
 542              	.LFB247:
  52:Core/Src/drv8323.c **** void drv_write_CSACR(DRVStruct drv, int CSA_FET, int VREF_DIV, int LS_REF, int CSA_GAIN, int DIS_SE
 543              		.loc 1 52 160 is_stmt 1 view -0
 544              		.cfi_startproc
 545              		@ args = 28, pretend = 0, frame = 8
 546              		@ frame_needed = 0, uses_anonymous_args = 0
 547              		.loc 1 52 160 is_stmt 0 view .LVU94
 548 0000 10B5     		push	{r4, lr}
 549              	.LCFI27:
 550              		.cfi_def_cfa_offset 8
 551              		.cfi_offset 4, -8
 552              		.cfi_offset 14, -4
 553 0002 82B0     		sub	sp, sp, #8
 554              	.LCFI28:
 555              		.cfi_def_cfa_offset 16
 556 0004 6C46     		mov	r4, sp
 557 0006 84E80300 		stm	r4, {r0, r1}
  53:Core/Src/drv8323.c **** 	uint16_t val = (CSACR<<11) | (CSA_FET<<10) | (VREF_DIV<<9) | (LS_REF<<8) | (CSA_GAIN<<6) | (DIS_SE
 558              		.loc 1 53 2 is_stmt 1 view .LVU95
 559              		.loc 1 53 39 is_stmt 0 view .LVU96
 560 000a 9202     		lsls	r2, r2, #10
 561              	.LVL34:
 562              		.loc 1 53 29 view .LVU97
 563 000c 42F44052 		orr	r2, r2, #12288
 564 0010 12B2     		sxth	r2, r2
 565              		.loc 1 53 45 view .LVU98
 566 0012 42EA4321 		orr	r1, r2, r3, lsl #9
 567 0016 09B2     		sxth	r1, r1
 568              		.loc 1 53 61 view .LVU99
 569 0018 049A     		ldr	r2, [sp, #16]
 570 001a 41EA0221 		orr	r1, r1, r2, lsl #8
 571 001e 09B2     		sxth	r1, r1
 572              		.loc 1 53 75 view .LVU100
 573 0020 059B     		ldr	r3, [sp, #20]
 574              	.LVL35:
 575              		.loc 1 53 75 view .LVU101
 576 0022 41EA8311 		orr	r1, r1, r3, lsl #6
 577 0026 09B2     		sxth	r1, r1
 578              		.loc 1 53 91 view .LVU102
 579 0028 069B     		ldr	r3, [sp, #24]
 580 002a 41EA4311 		orr	r1, r1, r3, lsl #5
 581 002e 09B2     		sxth	r1, r1
 582              		.loc 1 53 106 view .LVU103
 583 0030 079B     		ldr	r3, [sp, #28]
 584 0032 41EA0311 		orr	r1, r1, r3, lsl #4
 585 0036 09B2     		sxth	r1, r1
 586              		.loc 1 53 123 view .LVU104
 587 0038 089B     		ldr	r3, [sp, #32]
 588 003a 41EAC301 		orr	r1, r1, r3, lsl #3
 589 003e 09B2     		sxth	r1, r1
 590              		.loc 1 53 140 view .LVU105
 591 0040 099B     		ldr	r3, [sp, #36]
 592 0042 41EA8301 		orr	r1, r1, r3, lsl #2
 593 0046 09B2     		sxth	r1, r1
ARM GAS  /tmp/cc1zGJUA.s 			page 12


 594              		.loc 1 53 157 view .LVU106
 595 0048 0A9B     		ldr	r3, [sp, #40]
 596 004a 1943     		orrs	r1, r1, r3
 597              	.LVL36:
  54:Core/Src/drv8323.c **** 	drv_spi_write(&drv, val);
 598              		.loc 1 54 2 is_stmt 1 view .LVU107
 599 004c 89B2     		uxth	r1, r1
 600              		.loc 1 54 2 is_stmt 0 view .LVU108
 601 004e 2046     		mov	r0, r4
 602 0050 FFF7FEFF 		bl	drv_spi_write
 603              	.LVL37:
  55:Core/Src/drv8323.c **** }
 604              		.loc 1 55 1 view .LVU109
 605 0054 02B0     		add	sp, sp, #8
 606              	.LCFI29:
 607              		.cfi_def_cfa_offset 8
 608              		@ sp needed
 609 0056 10BD     		pop	{r4, pc}
 610              		.loc 1 55 1 view .LVU110
 611              		.cfi_endproc
 612              	.LFE247:
 614              		.section	.text.drv_enable_gd,"ax",%progbits
 615              		.align	1
 616              		.global	drv_enable_gd
 617              		.syntax unified
 618              		.thumb
 619              		.thumb_func
 620              		.fpu fpv4-sp-d16
 622              	drv_enable_gd:
 623              	.LFB248:
  56:Core/Src/drv8323.c **** void drv_enable_gd(DRVStruct drv){
 624              		.loc 1 56 34 is_stmt 1 view -0
 625              		.cfi_startproc
 626              		@ args = 0, pretend = 0, frame = 8
 627              		@ frame_needed = 0, uses_anonymous_args = 0
 628 0000 10B5     		push	{r4, lr}
 629              	.LCFI30:
 630              		.cfi_def_cfa_offset 8
 631              		.cfi_offset 4, -8
 632              		.cfi_offset 14, -4
 633 0002 82B0     		sub	sp, sp, #8
 634              	.LCFI31:
 635              		.cfi_def_cfa_offset 16
 636 0004 6C46     		mov	r4, sp
 637 0006 84E80300 		stm	r4, {r0, r1}
  57:Core/Src/drv8323.c **** 	uint16_t val = (drv_read_register(drv, DCR)) & (~(0x1<<2));
 638              		.loc 1 57 2 view .LVU112
 639              		.loc 1 57 18 is_stmt 0 view .LVU113
 640 000a 0222     		movs	r2, #2
 641 000c 94E80300 		ldm	r4, {r0, r1}
 642 0010 FFF7FEFF 		bl	drv_read_register
 643              	.LVL38:
 644              		.loc 1 57 11 view .LVU114
 645 0014 20F00403 		bic	r3, r0, #4
 646 0018 9BB2     		uxth	r3, r3
 647              	.LVL39:
  58:Core/Src/drv8323.c **** 	drv_write_register(drv, DCR, val);
ARM GAS  /tmp/cc1zGJUA.s 			page 13


 648              		.loc 1 58 2 is_stmt 1 view .LVU115
 649 001a 0222     		movs	r2, #2
 650 001c 94E80300 		ldm	r4, {r0, r1}
 651 0020 FFF7FEFF 		bl	drv_write_register
 652              	.LVL40:
  59:Core/Src/drv8323.c **** }
 653              		.loc 1 59 1 is_stmt 0 view .LVU116
 654 0024 02B0     		add	sp, sp, #8
 655              	.LCFI32:
 656              		.cfi_def_cfa_offset 8
 657              		@ sp needed
 658 0026 10BD     		pop	{r4, pc}
 659              		.cfi_endproc
 660              	.LFE248:
 662              		.section	.text.drv_disable_gd,"ax",%progbits
 663              		.align	1
 664              		.global	drv_disable_gd
 665              		.syntax unified
 666              		.thumb
 667              		.thumb_func
 668              		.fpu fpv4-sp-d16
 670              	drv_disable_gd:
 671              	.LFB249:
  60:Core/Src/drv8323.c **** void drv_disable_gd(DRVStruct drv){
 672              		.loc 1 60 35 is_stmt 1 view -0
 673              		.cfi_startproc
 674              		@ args = 0, pretend = 0, frame = 8
 675              		@ frame_needed = 0, uses_anonymous_args = 0
 676 0000 10B5     		push	{r4, lr}
 677              	.LCFI33:
 678              		.cfi_def_cfa_offset 8
 679              		.cfi_offset 4, -8
 680              		.cfi_offset 14, -4
 681 0002 82B0     		sub	sp, sp, #8
 682              	.LCFI34:
 683              		.cfi_def_cfa_offset 16
 684 0004 6C46     		mov	r4, sp
 685 0006 84E80300 		stm	r4, {r0, r1}
  61:Core/Src/drv8323.c **** 	uint16_t val = (drv_read_register(drv, DCR)) | (0x1<<2);
 686              		.loc 1 61 2 view .LVU118
 687              		.loc 1 61 18 is_stmt 0 view .LVU119
 688 000a 0222     		movs	r2, #2
 689 000c 94E80300 		ldm	r4, {r0, r1}
 690 0010 FFF7FEFF 		bl	drv_read_register
 691              	.LVL41:
 692              		.loc 1 61 11 view .LVU120
 693 0014 40F00403 		orr	r3, r0, #4
 694              	.LVL42:
  62:Core/Src/drv8323.c **** 	drv_write_register(drv, DCR, val);
 695              		.loc 1 62 2 is_stmt 1 view .LVU121
 696 0018 9BB2     		uxth	r3, r3
 697              		.loc 1 62 2 is_stmt 0 view .LVU122
 698 001a 0222     		movs	r2, #2
 699 001c 94E80300 		ldm	r4, {r0, r1}
 700 0020 FFF7FEFF 		bl	drv_write_register
 701              	.LVL43:
  63:Core/Src/drv8323.c **** }
ARM GAS  /tmp/cc1zGJUA.s 			page 14


 702              		.loc 1 63 1 view .LVU123
 703 0024 02B0     		add	sp, sp, #8
 704              	.LCFI35:
 705              		.cfi_def_cfa_offset 8
 706              		@ sp needed
 707 0026 10BD     		pop	{r4, pc}
 708              		.cfi_endproc
 709              	.LFE249:
 711              		.section	.text.drv_calibrate,"ax",%progbits
 712              		.align	1
 713              		.global	drv_calibrate
 714              		.syntax unified
 715              		.thumb
 716              		.thumb_func
 717              		.fpu fpv4-sp-d16
 719              	drv_calibrate:
 720              	.LFB250:
  64:Core/Src/drv8323.c **** void drv_calibrate(DRVStruct drv){
 721              		.loc 1 64 34 is_stmt 1 view -0
 722              		.cfi_startproc
 723              		@ args = 0, pretend = 0, frame = 8
 724              		@ frame_needed = 0, uses_anonymous_args = 0
 725 0000 10B5     		push	{r4, lr}
 726              	.LCFI36:
 727              		.cfi_def_cfa_offset 8
 728              		.cfi_offset 4, -8
 729              		.cfi_offset 14, -4
 730 0002 82B0     		sub	sp, sp, #8
 731              	.LCFI37:
 732              		.cfi_def_cfa_offset 16
 733 0004 6C46     		mov	r4, sp
 734 0006 84E80300 		stm	r4, {r0, r1}
  65:Core/Src/drv8323.c **** 	uint16_t val = (0x1<<4) + (0x1<<3) + (0x1<<2);
 735              		.loc 1 65 2 view .LVU125
 736              	.LVL44:
  66:Core/Src/drv8323.c **** 	drv_write_register(drv, CSACR, val);
 737              		.loc 1 66 2 view .LVU126
 738 000a 1C23     		movs	r3, #28
 739 000c 0622     		movs	r2, #6
 740 000e 94E80300 		ldm	r4, {r0, r1}
 741 0012 FFF7FEFF 		bl	drv_write_register
 742              	.LVL45:
  67:Core/Src/drv8323.c **** }
 743              		.loc 1 67 1 is_stmt 0 view .LVU127
 744 0016 02B0     		add	sp, sp, #8
 745              	.LCFI38:
 746              		.cfi_def_cfa_offset 8
 747              		@ sp needed
 748 0018 10BD     		pop	{r4, pc}
 749              		.cfi_endproc
 750              	.LFE250:
 752              		.section	.rodata.drv_print_faults.str1.4,"aMS",%progbits,1
 753              		.align	2
 754              	.LC0:
 755 0000 0A0D4641 		.ascii	"\012\015FAULT\012\015\000"
 755      554C540A 
 755      0D00
ARM GAS  /tmp/cc1zGJUA.s 			page 15


 756 000a 0000     		.align	2
 757              	.LC1:
 758 000c 5644535F 		.ascii	"VDS_OCP\012\015\000"
 758      4F43500A 
 758      0D00
 759 0016 0000     		.align	2
 760              	.LC2:
 761 0018 4744460A 		.ascii	"GDF\012\015\000"
 761      0D00
 762 001e 0000     		.align	2
 763              	.LC3:
 764 0020 55564C4F 		.ascii	"UVLO\012\015\000"
 764      0A0D00
 765 0027 00       		.align	2
 766              	.LC4:
 767 0028 4F545344 		.ascii	"OTSD\012\015\000"
 767      0A0D00
 768 002f 00       		.align	2
 769              	.LC5:
 770 0030 5644535F 		.ascii	"VDS_HA\012\015\000"
 770      48410A0D 
 770      00
 771 0039 000000   		.align	2
 772              	.LC6:
 773 003c 5644535F 		.ascii	"VDS_LA\012\015\000"
 773      4C410A0D 
 773      00
 774 0045 000000   		.align	2
 775              	.LC7:
 776 0048 5644535F 		.ascii	"VDS_HB\012\015\000"
 776      48420A0D 
 776      00
 777 0051 000000   		.align	2
 778              	.LC8:
 779 0054 5644535F 		.ascii	"VDS_LB\012\015\000"
 779      4C420A0D 
 779      00
 780 005d 000000   		.align	2
 781              	.LC9:
 782 0060 5644535F 		.ascii	"VDS_HC\012\015\000"
 782      48430A0D 
 782      00
 783 0069 000000   		.align	2
 784              	.LC10:
 785 006c 5644535F 		.ascii	"VDS_LC\012\015\000"
 785      4C430A0D 
 785      00
 786 0075 000000   		.align	2
 787              	.LC11:
 788 0078 53415F4F 		.ascii	"SA_OC\012\015\000"
 788      430A0D00 
 789              		.align	2
 790              	.LC12:
 791 0080 53425F4F 		.ascii	"SB_OC\012\015\000"
 791      430A0D00 
 792              		.align	2
 793              	.LC13:
ARM GAS  /tmp/cc1zGJUA.s 			page 16


 794 0088 53435F4F 		.ascii	"SC_OC\012\015\000"
 794      430A0D00 
 795              		.align	2
 796              	.LC14:
 797 0090 4F54570A 		.ascii	"OTW\012\015\000"
 797      0D00
 798 0096 0000     		.align	2
 799              	.LC15:
 800 0098 43505556 		.ascii	"CPUV\012\015\000"
 800      0A0D00
 801 009f 00       		.align	2
 802              	.LC16:
 803 00a0 5647535F 		.ascii	"VGS_HA\012\015\000"
 803      48410A0D 
 803      00
 804 00a9 000000   		.align	2
 805              	.LC17:
 806 00ac 5647535F 		.ascii	"VGS_LA\012\015\000"
 806      4C410A0D 
 806      00
 807 00b5 000000   		.align	2
 808              	.LC18:
 809 00b8 5647535F 		.ascii	"VGS_HB\012\015\000"
 809      48420A0D 
 809      00
 810 00c1 000000   		.align	2
 811              	.LC19:
 812 00c4 5647535F 		.ascii	"VGS_LB\012\015\000"
 812      4C420A0D 
 812      00
 813 00cd 000000   		.align	2
 814              	.LC20:
 815 00d0 5647535F 		.ascii	"VGS_HC\012\015\000"
 815      48430A0D 
 815      00
 816 00d9 000000   		.align	2
 817              	.LC21:
 818 00dc 5647535F 		.ascii	"VGS_LC\012\015\000"
 818      4C430A0D 
 818      00
 819              		.section	.text.drv_print_faults,"ax",%progbits
 820              		.align	1
 821              		.global	drv_print_faults
 822              		.syntax unified
 823              		.thumb
 824              		.thumb_func
 825              		.fpu fpv4-sp-d16
 827              	drv_print_faults:
 828              	.LFB251:
  68:Core/Src/drv8323.c **** void drv_print_faults(DRVStruct drv){
 829              		.loc 1 68 37 is_stmt 1 view -0
 830              		.cfi_startproc
 831              		@ args = 0, pretend = 0, frame = 8
 832              		@ frame_needed = 0, uses_anonymous_args = 0
 833 0000 30B5     		push	{r4, r5, lr}
 834              	.LCFI39:
 835              		.cfi_def_cfa_offset 12
ARM GAS  /tmp/cc1zGJUA.s 			page 17


 836              		.cfi_offset 4, -12
 837              		.cfi_offset 5, -8
 838              		.cfi_offset 14, -4
 839 0002 83B0     		sub	sp, sp, #12
 840              	.LCFI40:
 841              		.cfi_def_cfa_offset 24
 842 0004 6C46     		mov	r4, sp
 843 0006 84E80300 		stm	r4, {r0, r1}
  69:Core/Src/drv8323.c ****     uint16_t val1 = drv_read_FSR1(drv);
 844              		.loc 1 69 5 view .LVU129
 845              		.loc 1 69 21 is_stmt 0 view .LVU130
 846 000a 94E80300 		ldm	r4, {r0, r1}
 847 000e FFF7FEFF 		bl	drv_read_FSR1
 848              	.LVL46:
 849 0012 0546     		mov	r5, r0
 850              	.LVL47:
  70:Core/Src/drv8323.c ****     uint16_t val2 = drv_read_FSR2(drv);
 851              		.loc 1 70 5 is_stmt 1 view .LVU131
 852              		.loc 1 70 21 is_stmt 0 view .LVU132
 853 0014 94E80300 		ldm	r4, {r0, r1}
 854 0018 FFF7FEFF 		bl	drv_read_FSR2
 855              	.LVL48:
 856 001c 0446     		mov	r4, r0
 857              	.LVL49:
  71:Core/Src/drv8323.c **** 
  72:Core/Src/drv8323.c ****     if(val1 & (1<<10)){printf("\n\rFAULT\n\r");}
 858              		.loc 1 72 5 is_stmt 1 view .LVU133
 859              		.loc 1 72 7 is_stmt 0 view .LVU134
 860 001e 15F4806F 		tst	r5, #1024
 861 0022 40D1     		bne	.L54
 862              	.L31:
  73:Core/Src/drv8323.c **** 
  74:Core/Src/drv8323.c ****     if(val1 & (1<<9)){printf("VDS_OCP\n\r");}
 863              		.loc 1 74 5 is_stmt 1 view .LVU135
 864              		.loc 1 74 7 is_stmt 0 view .LVU136
 865 0024 15F4007F 		tst	r5, #512
 866 0028 41D1     		bne	.L55
 867              	.L32:
  75:Core/Src/drv8323.c ****     if(val1 & (1<<8)){printf("GDF\n\r");}
 868              		.loc 1 75 5 is_stmt 1 view .LVU137
 869              		.loc 1 75 7 is_stmt 0 view .LVU138
 870 002a 15F4807F 		tst	r5, #256
 871 002e 42D1     		bne	.L56
 872              	.L33:
  76:Core/Src/drv8323.c ****     if(val1 & (1<<7)){printf("UVLO\n\r");}
 873              		.loc 1 76 5 is_stmt 1 view .LVU139
 874              		.loc 1 76 7 is_stmt 0 view .LVU140
 875 0030 15F0800F 		tst	r5, #128
 876 0034 43D1     		bne	.L57
 877              	.L34:
  77:Core/Src/drv8323.c ****     if(val1 & (1<<6)){printf("OTSD\n\r");}
 878              		.loc 1 77 5 is_stmt 1 view .LVU141
 879              		.loc 1 77 7 is_stmt 0 view .LVU142
 880 0036 15F0400F 		tst	r5, #64
 881 003a 44D1     		bne	.L58
 882              	.L35:
  78:Core/Src/drv8323.c ****     if(val1 & (1<<5)){printf("VDS_HA\n\r");}
ARM GAS  /tmp/cc1zGJUA.s 			page 18


 883              		.loc 1 78 5 is_stmt 1 view .LVU143
 884              		.loc 1 78 7 is_stmt 0 view .LVU144
 885 003c 15F0200F 		tst	r5, #32
 886 0040 45D1     		bne	.L59
 887              	.L36:
  79:Core/Src/drv8323.c ****     if(val1 & (1<<4)){printf("VDS_LA\n\r");}
 888              		.loc 1 79 5 is_stmt 1 view .LVU145
 889              		.loc 1 79 7 is_stmt 0 view .LVU146
 890 0042 15F0100F 		tst	r5, #16
 891 0046 46D1     		bne	.L60
 892              	.L37:
  80:Core/Src/drv8323.c ****     if(val1 & (1<<3)){printf("VDS_HB\n\r");}
 893              		.loc 1 80 5 is_stmt 1 view .LVU147
 894              		.loc 1 80 7 is_stmt 0 view .LVU148
 895 0048 15F0080F 		tst	r5, #8
 896 004c 47D1     		bne	.L61
 897              	.L38:
  81:Core/Src/drv8323.c ****     if(val1 & (1<<2)){printf("VDS_LB\n\r");}
 898              		.loc 1 81 5 is_stmt 1 view .LVU149
 899              		.loc 1 81 7 is_stmt 0 view .LVU150
 900 004e 15F0040F 		tst	r5, #4
 901 0052 48D1     		bne	.L62
 902              	.L39:
  82:Core/Src/drv8323.c ****     if(val1 & (1<<1)){printf("VDS_HC\n\r");}
 903              		.loc 1 82 5 is_stmt 1 view .LVU151
 904              		.loc 1 82 7 is_stmt 0 view .LVU152
 905 0054 15F0020F 		tst	r5, #2
 906 0058 49D1     		bne	.L63
 907              	.L40:
  83:Core/Src/drv8323.c ****     if(val1 & (1)){printf("VDS_LC\n\r");}
 908              		.loc 1 83 5 is_stmt 1 view .LVU153
 909              		.loc 1 83 7 is_stmt 0 view .LVU154
 910 005a 15F0010F 		tst	r5, #1
 911 005e 4AD1     		bne	.L64
 912              	.L41:
  84:Core/Src/drv8323.c **** 
  85:Core/Src/drv8323.c ****     if(val2 & (1<<10)){printf("SA_OC\n\r");}
 913              		.loc 1 85 5 is_stmt 1 view .LVU155
 914              		.loc 1 85 7 is_stmt 0 view .LVU156
 915 0060 14F4806F 		tst	r4, #1024
 916 0064 4BD1     		bne	.L65
 917              	.L42:
  86:Core/Src/drv8323.c ****     if(val2 & (1<<9)){printf("SB_OC\n\r");}
 918              		.loc 1 86 5 is_stmt 1 view .LVU157
 919              		.loc 1 86 7 is_stmt 0 view .LVU158
 920 0066 14F4007F 		tst	r4, #512
 921 006a 4CD1     		bne	.L66
 922              	.L43:
  87:Core/Src/drv8323.c ****     if(val2 & (1<<8)){printf("SC_OC\n\r");}
 923              		.loc 1 87 5 is_stmt 1 view .LVU159
 924              		.loc 1 87 7 is_stmt 0 view .LVU160
 925 006c 14F4807F 		tst	r4, #256
 926 0070 4DD1     		bne	.L67
 927              	.L44:
  88:Core/Src/drv8323.c ****     if(val2 & (1<<7)){printf("OTW\n\r");}
 928              		.loc 1 88 5 is_stmt 1 view .LVU161
 929              		.loc 1 88 7 is_stmt 0 view .LVU162
ARM GAS  /tmp/cc1zGJUA.s 			page 19


 930 0072 14F0800F 		tst	r4, #128
 931 0076 4ED1     		bne	.L68
 932              	.L45:
  89:Core/Src/drv8323.c ****     if(val2 & (1<<6)){printf("CPUV\n\r");}
 933              		.loc 1 89 5 is_stmt 1 view .LVU163
 934              		.loc 1 89 7 is_stmt 0 view .LVU164
 935 0078 14F0400F 		tst	r4, #64
 936 007c 4FD1     		bne	.L69
 937              	.L46:
  90:Core/Src/drv8323.c ****     if(val2 & (1<<5)){printf("VGS_HA\n\r");}
 938              		.loc 1 90 5 is_stmt 1 view .LVU165
 939              		.loc 1 90 7 is_stmt 0 view .LVU166
 940 007e 14F0200F 		tst	r4, #32
 941 0082 50D1     		bne	.L70
 942              	.L47:
  91:Core/Src/drv8323.c ****     if(val2 & (1<<4)){printf("VGS_LA\n\r");}
 943              		.loc 1 91 5 is_stmt 1 view .LVU167
 944              		.loc 1 91 7 is_stmt 0 view .LVU168
 945 0084 14F0100F 		tst	r4, #16
 946 0088 51D1     		bne	.L71
 947              	.L48:
  92:Core/Src/drv8323.c ****     if(val2 & (1<<3)){printf("VGS_HB\n\r");}
 948              		.loc 1 92 5 is_stmt 1 view .LVU169
 949              		.loc 1 92 7 is_stmt 0 view .LVU170
 950 008a 14F0080F 		tst	r4, #8
 951 008e 52D1     		bne	.L72
 952              	.L49:
  93:Core/Src/drv8323.c ****     if(val2 & (1<<2)){printf("VGS_LB\n\r");}
 953              		.loc 1 93 5 is_stmt 1 view .LVU171
 954              		.loc 1 93 7 is_stmt 0 view .LVU172
 955 0090 14F0040F 		tst	r4, #4
 956 0094 53D1     		bne	.L73
 957              	.L50:
  94:Core/Src/drv8323.c ****     if(val2 & (1<<1)){printf("VGS_HC\n\r");}
 958              		.loc 1 94 5 is_stmt 1 view .LVU173
 959              		.loc 1 94 7 is_stmt 0 view .LVU174
 960 0096 14F0020F 		tst	r4, #2
 961 009a 54D1     		bne	.L74
 962              	.L51:
  95:Core/Src/drv8323.c ****     if(val2 & (1)){printf("VGS_LC\n\r");}
 963              		.loc 1 95 5 is_stmt 1 view .LVU175
 964              		.loc 1 95 7 is_stmt 0 view .LVU176
 965 009c 14F0010F 		tst	r4, #1
 966 00a0 55D1     		bne	.L75
 967              	.L30:
  96:Core/Src/drv8323.c **** 
  97:Core/Src/drv8323.c **** }
 968              		.loc 1 97 1 view .LVU177
 969 00a2 03B0     		add	sp, sp, #12
 970              	.LCFI41:
 971              		.cfi_remember_state
 972              		.cfi_def_cfa_offset 12
 973              		@ sp needed
 974 00a4 30BD     		pop	{r4, r5, pc}
 975              	.LVL50:
 976              	.L54:
 977              	.LCFI42:
ARM GAS  /tmp/cc1zGJUA.s 			page 20


 978              		.cfi_restore_state
  72:Core/Src/drv8323.c **** 
 979              		.loc 1 72 24 is_stmt 1 discriminator 1 view .LVU178
 980 00a6 2C48     		ldr	r0, .L76
 981 00a8 FFF7FEFF 		bl	printf
 982              	.LVL51:
 983 00ac BAE7     		b	.L31
 984              	.L55:
  74:Core/Src/drv8323.c ****     if(val1 & (1<<8)){printf("GDF\n\r");}
 985              		.loc 1 74 23 discriminator 1 view .LVU179
 986 00ae 2B48     		ldr	r0, .L76+4
 987 00b0 FFF7FEFF 		bl	printf
 988              	.LVL52:
 989 00b4 B9E7     		b	.L32
 990              	.L56:
  75:Core/Src/drv8323.c ****     if(val1 & (1<<7)){printf("UVLO\n\r");}
 991              		.loc 1 75 23 discriminator 1 view .LVU180
 992 00b6 2A48     		ldr	r0, .L76+8
 993 00b8 FFF7FEFF 		bl	printf
 994              	.LVL53:
 995 00bc B8E7     		b	.L33
 996              	.L57:
  76:Core/Src/drv8323.c ****     if(val1 & (1<<6)){printf("OTSD\n\r");}
 997              		.loc 1 76 23 discriminator 1 view .LVU181
 998 00be 2948     		ldr	r0, .L76+12
 999 00c0 FFF7FEFF 		bl	printf
 1000              	.LVL54:
 1001 00c4 B7E7     		b	.L34
 1002              	.L58:
  77:Core/Src/drv8323.c ****     if(val1 & (1<<5)){printf("VDS_HA\n\r");}
 1003              		.loc 1 77 23 discriminator 1 view .LVU182
 1004 00c6 2848     		ldr	r0, .L76+16
 1005 00c8 FFF7FEFF 		bl	printf
 1006              	.LVL55:
 1007 00cc B6E7     		b	.L35
 1008              	.L59:
  78:Core/Src/drv8323.c ****     if(val1 & (1<<4)){printf("VDS_LA\n\r");}
 1009              		.loc 1 78 23 discriminator 1 view .LVU183
 1010 00ce 2748     		ldr	r0, .L76+20
 1011 00d0 FFF7FEFF 		bl	printf
 1012              	.LVL56:
 1013 00d4 B5E7     		b	.L36
 1014              	.L60:
  79:Core/Src/drv8323.c ****     if(val1 & (1<<3)){printf("VDS_HB\n\r");}
 1015              		.loc 1 79 23 discriminator 1 view .LVU184
 1016 00d6 2648     		ldr	r0, .L76+24
 1017 00d8 FFF7FEFF 		bl	printf
 1018              	.LVL57:
 1019 00dc B4E7     		b	.L37
 1020              	.L61:
  80:Core/Src/drv8323.c ****     if(val1 & (1<<2)){printf("VDS_LB\n\r");}
 1021              		.loc 1 80 23 discriminator 1 view .LVU185
 1022 00de 2548     		ldr	r0, .L76+28
 1023 00e0 FFF7FEFF 		bl	printf
 1024              	.LVL58:
 1025 00e4 B3E7     		b	.L38
 1026              	.L62:
ARM GAS  /tmp/cc1zGJUA.s 			page 21


  81:Core/Src/drv8323.c ****     if(val1 & (1<<1)){printf("VDS_HC\n\r");}
 1027              		.loc 1 81 23 discriminator 1 view .LVU186
 1028 00e6 2448     		ldr	r0, .L76+32
 1029 00e8 FFF7FEFF 		bl	printf
 1030              	.LVL59:
 1031 00ec B2E7     		b	.L39
 1032              	.L63:
  82:Core/Src/drv8323.c ****     if(val1 & (1)){printf("VDS_LC\n\r");}
 1033              		.loc 1 82 23 discriminator 1 view .LVU187
 1034 00ee 2348     		ldr	r0, .L76+36
 1035 00f0 FFF7FEFF 		bl	printf
 1036              	.LVL60:
 1037 00f4 B1E7     		b	.L40
 1038              	.L64:
  83:Core/Src/drv8323.c **** 
 1039              		.loc 1 83 20 discriminator 1 view .LVU188
 1040 00f6 2248     		ldr	r0, .L76+40
 1041 00f8 FFF7FEFF 		bl	printf
 1042              	.LVL61:
 1043 00fc B0E7     		b	.L41
 1044              	.L65:
  85:Core/Src/drv8323.c ****     if(val2 & (1<<9)){printf("SB_OC\n\r");}
 1045              		.loc 1 85 24 discriminator 1 view .LVU189
 1046 00fe 2148     		ldr	r0, .L76+44
 1047 0100 FFF7FEFF 		bl	printf
 1048              	.LVL62:
 1049 0104 AFE7     		b	.L42
 1050              	.L66:
  86:Core/Src/drv8323.c ****     if(val2 & (1<<8)){printf("SC_OC\n\r");}
 1051              		.loc 1 86 23 discriminator 1 view .LVU190
 1052 0106 2048     		ldr	r0, .L76+48
 1053 0108 FFF7FEFF 		bl	printf
 1054              	.LVL63:
 1055 010c AEE7     		b	.L43
 1056              	.L67:
  87:Core/Src/drv8323.c ****     if(val2 & (1<<7)){printf("OTW\n\r");}
 1057              		.loc 1 87 23 discriminator 1 view .LVU191
 1058 010e 1F48     		ldr	r0, .L76+52
 1059 0110 FFF7FEFF 		bl	printf
 1060              	.LVL64:
 1061 0114 ADE7     		b	.L44
 1062              	.L68:
  88:Core/Src/drv8323.c ****     if(val2 & (1<<6)){printf("CPUV\n\r");}
 1063              		.loc 1 88 23 discriminator 1 view .LVU192
 1064 0116 1E48     		ldr	r0, .L76+56
 1065 0118 FFF7FEFF 		bl	printf
 1066              	.LVL65:
 1067 011c ACE7     		b	.L45
 1068              	.L69:
  89:Core/Src/drv8323.c ****     if(val2 & (1<<5)){printf("VGS_HA\n\r");}
 1069              		.loc 1 89 23 discriminator 1 view .LVU193
 1070 011e 1D48     		ldr	r0, .L76+60
 1071 0120 FFF7FEFF 		bl	printf
 1072              	.LVL66:
 1073 0124 ABE7     		b	.L46
 1074              	.L70:
  90:Core/Src/drv8323.c ****     if(val2 & (1<<4)){printf("VGS_LA\n\r");}
ARM GAS  /tmp/cc1zGJUA.s 			page 22


 1075              		.loc 1 90 23 discriminator 1 view .LVU194
 1076 0126 1C48     		ldr	r0, .L76+64
 1077 0128 FFF7FEFF 		bl	printf
 1078              	.LVL67:
 1079 012c AAE7     		b	.L47
 1080              	.L71:
  91:Core/Src/drv8323.c ****     if(val2 & (1<<3)){printf("VGS_HB\n\r");}
 1081              		.loc 1 91 23 discriminator 1 view .LVU195
 1082 012e 1B48     		ldr	r0, .L76+68
 1083 0130 FFF7FEFF 		bl	printf
 1084              	.LVL68:
 1085 0134 A9E7     		b	.L48
 1086              	.L72:
  92:Core/Src/drv8323.c ****     if(val2 & (1<<2)){printf("VGS_LB\n\r");}
 1087              		.loc 1 92 23 discriminator 1 view .LVU196
 1088 0136 1A48     		ldr	r0, .L76+72
 1089 0138 FFF7FEFF 		bl	printf
 1090              	.LVL69:
 1091 013c A8E7     		b	.L49
 1092              	.L73:
  93:Core/Src/drv8323.c ****     if(val2 & (1<<1)){printf("VGS_HC\n\r");}
 1093              		.loc 1 93 23 discriminator 1 view .LVU197
 1094 013e 1948     		ldr	r0, .L76+76
 1095 0140 FFF7FEFF 		bl	printf
 1096              	.LVL70:
 1097 0144 A7E7     		b	.L50
 1098              	.L74:
  94:Core/Src/drv8323.c ****     if(val2 & (1)){printf("VGS_LC\n\r");}
 1099              		.loc 1 94 23 discriminator 1 view .LVU198
 1100 0146 1848     		ldr	r0, .L76+80
 1101 0148 FFF7FEFF 		bl	printf
 1102              	.LVL71:
 1103 014c A6E7     		b	.L51
 1104              	.L75:
  95:Core/Src/drv8323.c **** 
 1105              		.loc 1 95 20 discriminator 1 view .LVU199
 1106 014e 1748     		ldr	r0, .L76+84
 1107 0150 FFF7FEFF 		bl	printf
 1108              	.LVL72:
 1109              		.loc 1 97 1 is_stmt 0 discriminator 1 view .LVU200
 1110 0154 A5E7     		b	.L30
 1111              	.L77:
 1112 0156 00BF     		.align	2
 1113              	.L76:
 1114 0158 00000000 		.word	.LC0
 1115 015c 0C000000 		.word	.LC1
 1116 0160 18000000 		.word	.LC2
 1117 0164 20000000 		.word	.LC3
 1118 0168 28000000 		.word	.LC4
 1119 016c 30000000 		.word	.LC5
 1120 0170 3C000000 		.word	.LC6
 1121 0174 48000000 		.word	.LC7
 1122 0178 54000000 		.word	.LC8
 1123 017c 60000000 		.word	.LC9
 1124 0180 6C000000 		.word	.LC10
 1125 0184 78000000 		.word	.LC11
 1126 0188 80000000 		.word	.LC12
ARM GAS  /tmp/cc1zGJUA.s 			page 23


 1127 018c 88000000 		.word	.LC13
 1128 0190 90000000 		.word	.LC14
 1129 0194 98000000 		.word	.LC15
 1130 0198 A0000000 		.word	.LC16
 1131 019c AC000000 		.word	.LC17
 1132 01a0 B8000000 		.word	.LC18
 1133 01a4 C4000000 		.word	.LC19
 1134 01a8 D0000000 		.word	.LC20
 1135 01ac DC000000 		.word	.LC21
 1136              		.cfi_endproc
 1137              	.LFE251:
 1139              		.text
 1140              	.Letext0:
 1141              		.file 2 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stdint.h"
 1142              		.file 3 "Drivers/CMSIS/Include/core_cm4.h"
 1143              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 1144              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f446xx.h"
 1145              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 1146              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 1147              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 1148              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 1149              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_uart.h"
 1150              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 1151              		.file 12 "Core/Inc/spi.h"
 1152              		.file 13 "Core/Inc/drv8323.h"
 1153              		.file 14 "/usr/lib/gcc/arm-none-eabi/9.2.1/include/stddef.h"
 1154              		.file 15 "/usr/include/newlib/sys/_types.h"
 1155              		.file 16 "/usr/include/newlib/sys/reent.h"
 1156              		.file 17 "/usr/include/newlib/sys/lock.h"
 1157              		.file 18 "Core/Inc/usart.h"
 1158              		.file 19 "/usr/include/newlib/stdio.h"
ARM GAS  /tmp/cc1zGJUA.s 			page 24


DEFINED SYMBOLS
                            *ABS*:0000000000000000 drv8323.c
     /tmp/cc1zGJUA.s:18     .text.drv_spi_write:0000000000000000 $t
     /tmp/cc1zGJUA.s:26     .text.drv_spi_write:0000000000000000 drv_spi_write
     /tmp/cc1zGJUA.s:98     .text.drv_spi_write:0000000000000044 $d
     /tmp/cc1zGJUA.s:104    .text.drv_read_FSR1:0000000000000000 $t
     /tmp/cc1zGJUA.s:111    .text.drv_read_FSR1:0000000000000000 drv_read_FSR1
     /tmp/cc1zGJUA.s:142    .text.drv_read_FSR2:0000000000000000 $t
     /tmp/cc1zGJUA.s:149    .text.drv_read_FSR2:0000000000000000 drv_read_FSR2
     /tmp/cc1zGJUA.s:180    .text.drv_read_register:0000000000000000 $t
     /tmp/cc1zGJUA.s:187    .text.drv_read_register:0000000000000000 drv_read_register
     /tmp/cc1zGJUA.s:223    .text.drv_write_register:0000000000000000 $t
     /tmp/cc1zGJUA.s:230    .text.drv_write_register:0000000000000000 drv_write_register
     /tmp/cc1zGJUA.s:267    .text.drv_write_DCR:0000000000000000 $t
     /tmp/cc1zGJUA.s:274    .text.drv_write_DCR:0000000000000000 drv_write_DCR
     /tmp/cc1zGJUA.s:349    .text.drv_write_HSR:0000000000000000 $t
     /tmp/cc1zGJUA.s:356    .text.drv_write_HSR:0000000000000000 drv_write_HSR
     /tmp/cc1zGJUA.s:405    .text.drv_write_LSR:0000000000000000 $t
     /tmp/cc1zGJUA.s:412    .text.drv_write_LSR:0000000000000000 drv_write_LSR
     /tmp/cc1zGJUA.s:467    .text.drv_write_OCPCR:0000000000000000 $t
     /tmp/cc1zGJUA.s:474    .text.drv_write_OCPCR:0000000000000000 drv_write_OCPCR
     /tmp/cc1zGJUA.s:533    .text.drv_write_CSACR:0000000000000000 $t
     /tmp/cc1zGJUA.s:540    .text.drv_write_CSACR:0000000000000000 drv_write_CSACR
     /tmp/cc1zGJUA.s:615    .text.drv_enable_gd:0000000000000000 $t
     /tmp/cc1zGJUA.s:622    .text.drv_enable_gd:0000000000000000 drv_enable_gd
     /tmp/cc1zGJUA.s:663    .text.drv_disable_gd:0000000000000000 $t
     /tmp/cc1zGJUA.s:670    .text.drv_disable_gd:0000000000000000 drv_disable_gd
     /tmp/cc1zGJUA.s:712    .text.drv_calibrate:0000000000000000 $t
     /tmp/cc1zGJUA.s:719    .text.drv_calibrate:0000000000000000 drv_calibrate
     /tmp/cc1zGJUA.s:753    .rodata.drv_print_faults.str1.4:0000000000000000 $d
     /tmp/cc1zGJUA.s:820    .text.drv_print_faults:0000000000000000 $t
     /tmp/cc1zGJUA.s:827    .text.drv_print_faults:0000000000000000 drv_print_faults
     /tmp/cc1zGJUA.s:1114   .text.drv_print_faults:0000000000000158 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_SPI_TransmitReceive
hspi1
printf
